{"version":3,"sources":["assets\\Script\\Backpack\\BackpackItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Global from \"../App/Global\";\r\nimport { LocMsg } from \"../BaseModel/MsgEvent\";\r\nimport { DataBaseKey } from \"../BaseModel/Types\";\r\nimport { INFOR_STATE } from \"../MainScene/RobotInforCtrl\";\r\nimport DataManager from \"../Manager/DataManager\";\r\nimport { IPlayerInfo } from \"../Model/PlayerProp\";\r\nimport { IRobot, RobotTypeDesc } from \"../Model/RobotProp\";\r\nimport { API_UseRobot } from \"../Utils/LocalDataAPI\";\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class BackpackItem extends cc.Component {\r\n    @property(cc.Sprite)\r\n    icon: cc.Sprite = null;\r\n\r\n    @property(cc.Label)\r\n    lbType: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbID: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbMint: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lbLv: cc.Label = null;\r\n\r\n\r\n    @property([cc.Label])\r\n    lbs: cc.Label[] = [];\r\n\r\n    @property([cc.SpriteFrame])\r\n    iconSFs: cc.SpriteFrame[] = [];\r\n\r\n    @property(cc.Node)\r\n    btnUse: cc.Node = null;\r\n\r\n    get renderIdx() {\r\n        return this._renderIdx;\r\n    }\r\n\r\n    get robotId() {\r\n        return this._robotData.id;\r\n    }\r\n    private _renderIdx: number = -1;\r\n    private _robotData: IRobot = null;\r\n\r\n    async SetItem(idx: number, data: IRobot) {\r\n        this._renderIdx = idx;\r\n        this._robotData = data;\r\n        this.lbMint.string = \"Mint:\" + data.mint;\r\n        this.lbID.string = \"\" + data.id\r\n        this.lbLv.string = \"Lv.\" + data.level;\r\n        this.lbType.string = RobotTypeDesc[data.robotType];\r\n        this.icon.spriteFrame = this.iconSFs[data.robotImgId];\r\n\r\n\r\n        //属性\r\n        this.lbs[0].string = \"\" + data.efficiency;\r\n        this.lbs[1].string = \"\" + data.luck;\r\n        this.lbs[2].string = \"\" + data.pow;\r\n        this.lbs[3].string = data.intMin + \"~\" + data.intMax;\r\n\r\n\r\n        let player = DataManager.Inst.GetData<IPlayerInfo>(DataBaseKey.PLAYER_DATA);\r\n        this.btnUse.active = true;\r\n        this.btnUse.children[0].active = player.curRobotUse && player.curRobotUse.id === this._robotData.id ? true : false;\r\n        this.btnUse.children[1].active = !this.btnUse.children[0].active;\r\n\r\n    }\r\n\r\n    OnClickSelf(event, customEventData) {\r\n        let player = DataManager.Inst.GetData<IPlayerInfo>(DataBaseKey.PLAYER_DATA);\r\n        let sate = player.curRobotUse && player.curRobotUse.id === this._robotData.id ? INFOR_STATE.ISUSEING : INFOR_STATE.HAED;\r\n        Global.Inst.Emit(LocMsg.SHOW_ROBOT_INFOR, this._robotData, sate);\r\n    }\r\n\r\n\r\n    OnClickUse(event, customEventData) {\r\n        API_UseRobot(this._robotData);\r\n    }\r\n\r\n}\r\n"]}